webpackJsonp([0xaec73e2a16e],{879:function(s,n){s.exports={data:{post:{id:"/Users/leejuseung/Work/blog/lighthouse-dev.github.io/content/posts/2018-03-07--mysql-password-reset/index.md absPath of file >>> MarkdownRemark",html:'<p>MySQL rootパスワード忘れた時の対応</p>\n<h1>1.mysqld 停止</h1>\n<div class="gatsby-highlight">\n      <pre class="language-cmd"><code class="language-cmd">$ service mysqld stop</code></pre>\n      </div>\n<br>\n<h1>2.mysqld_safe 実行</h1>\n<p>認証省略オプション + 安全モードでデモン実行</p>\n<blockquote>\n<p>/usr/bin/mysqld<em>safe —skip-grant &#x26;\n/usr/bin/mysqld</em>safe —skip-grant-tables &#x26;</p>\n</blockquote>\n<div class="gatsby-highlight">\n      <pre class="language-cmd"><code class="language-cmd">$ /usr/bin/mysqld_safe --skip-grant-tables &amp;\n\n[1] 32055\nStarting mysqld daemon with databases from /var/lib/mysql</code></pre>\n      </div>\n<p>これでパスワード無しで mysqlに接続できるようになった！</p>\n<br>\n<h1>3.新しいパスワードを設定</h1>\n<p>mysql コンソールに接続する。</p>\n<div class="gatsby-highlight">\n      <pre class="language-cmd"><code class="language-cmd">$ /usr/bin/mysql -u root mysql</code></pre>\n      </div>\n<p>以下のSQLコマンドを入力し、設定したいパスワードに変更する。</p>\n<h3>バージョン5.7 以下</h3>\n<div class="gatsby-highlight">\n      <pre class="language-sql"><code class="language-sql"><span class="token keyword">UPDATE</span> mysql<span class="token punctuation">.</span><span class="token keyword">user</span> <span class="token keyword">SET</span> password<span class="token operator">=</span>PASSWORD<span class="token punctuation">(</span><span class="token string">\'パスワード\'</span><span class="token punctuation">)</span> <span class="token keyword">WHERE</span> <span class="token keyword">user</span><span class="token operator">=</span><span class="token string">\'root\'</span><span class="token punctuation">;</span> \nFLUSH <span class="token keyword">PRIVILEGES</span><span class="token punctuation">;</span>\nquit\n</code></pre>\n      </div>\n<h3>バージョン5.7 以上</h3>\n<div class="gatsby-highlight">\n      <pre class="language-sql"><code class="language-sql"><span class="token keyword">UPDATE</span> mysql<span class="token punctuation">.</span><span class="token keyword">user</span> <span class="token keyword">SET</span> authentication_string<span class="token operator">=</span>PASSWORD<span class="token punctuation">(</span><span class="token string">\'パスワード\'</span><span class="token punctuation">)</span> <span class="token keyword">WHERE</span> <span class="token keyword">user</span><span class="token operator">=</span><span class="token string">\'root\'</span><span class="token punctuation">;</span> \nFLUSH <span class="token keyword">PRIVILEGES</span><span class="token punctuation">;</span>\nquit\n</code></pre>\n      </div>\n<h3>実行例</h3>\n<div class="gatsby-highlight">\n      <pre class="language-cmd"><code class="language-cmd">$ /usr/bin/mysql -uroot mysql\nReading table information for completion of table and column names\nYou can turn off this feature to get a quicker startup with -A\n\nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 1\nServer version: 5.0.77 Source distribution\n\nType &#39;help;&#39; or &#39;\\h&#39; for help. Type &#39;\\c&#39; to clear the buffer.\n\nmysql&gt; update user set password=password(&#39;P@ssw0rd&#39;) where user=&#39;root&#39;;\nQuery OK, 3 rows affected (0.00 sec)\nRows matched: 3  Changed: 3  Warnings: 0\n\nmysql&gt; flush privileges;\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql&gt; quit\nBye</code></pre>\n      </div>\n<br>\n<h1>4.mysqld 再起動</h1>\n<div class="gatsby-highlight">\n      <pre class="language-cmd"><code class="language-cmd">$ service mysqld restart\n\nSTOPPING server from pid file /var/run/mysqld/mysqld.pid\n120229 13:08:54  mysqld ended\n\nStopping MySQL:                                            [  OK  ]\nStarting MySQL:                                            [  OK  ]\n[1]+  Done                    /usr/bin/mysqld_safe --skip-grant</code></pre>\n      </div>\n<p>バックグラウンドで実行中だった認証省略安全モードの mysqld プロセスが停止され、通常モードの　mysqldで再起動された！</p>',fields:{slug:"/mysql-password-reset/",prefix:"2018-03-07"},frontmatter:{title:"MySQL rootパスワードを忘れた時の対応",subTitle:"",cover:{childImageSharp:{resize:{src:"/static/mysql-logo-097b349ab1d78c15744c3a89ff457939-160fa.png"}}}}},author:{id:"/Users/leejuseung/Work/blog/lighthouse-dev.github.io/content/parts/author.md absPath of file >>> MarkdownRemark",html:"<p><strong>jslee</strong> <br>\n福岡在住外国籍WEBエンジニア。<br>\nPHP(CakePHP) / Angular / Ionic / Vue.js / <br>\nGraphQL / Docker / Web Design / UI, UX ･･･</p>"},footnote:{id:"/Users/leejuseung/Work/blog/lighthouse-dev.github.io/content/parts/footnote.md absPath of file >>> MarkdownRemark",html:'<ul>\n<li><a href="https://lighthouse-dev.github.io/">lighthouse.log</a></li>\n</ul>'},site:{siteMetadata:{facebook:{appId:"152072888976323"}}}},pathContext:{slug:"/mysql-password-reset/"}}}});
//# sourceMappingURL=path---mysql-password-reset-54f5b368139a3396c8fe.js.map